require '~/assert.tab'
require './iter.tab'
require './pipe-macro.tab' |>

# println
# 	iter-each test-iter println

fn is-large x (> x 2)
fn times-10 x (* 10 x)

|>
	li 1 2 3 4
	iter-new # create iter from list
	iter-filter is-large # filter out small numbers
	iter-map times-10 # multiply each by 10
	iter-collect # collect iter into list
	assert-eq (li 30 40) # check result